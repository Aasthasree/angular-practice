<h3>User register form</h3>

<form #regForm="ngForm" (ngSubmit)="onSubmit(registerForm)">
  <!--Name-->
  <div>
    <label>Name:</label>
    <input
      type="text"
      name="name"
      [(ngModel)]="registerForm.name"
      required
      minlength="3"
      #nameCtrl="ngModel"
    />
    @if (nameCtrl.invalid && nameCtrl.touched) {
    <div class="error">
      @if(nameCtrl.errors?.['required']) {
      <small>Name is required</small>
      } @if(nameCtrl.errors?.['minlength']) {
      <small>Name should be at least 3 characters</small>
      }
    </div>
    }
  </div>

  <!--Email-->
  <div>
    <label>Email:</label>
    <input
      type="email"
      name="email"
      [(ngModel)]="registerForm.email"
      required
      email
      #emailctrl="ngModel"
    />
    @if(emailctrl.invalid && emailctrl.touched) {
    <div class="error">
      @if(emailctrl.errors?.['required']) {
      <small>Email is required</small>
      } @if(emailctrl.errors?.['email']) {
      <small>Invalid email format</small>
      }
    </div>
    }
  </div>

  <!--password-->
  <div>
    <label>Password:</label>
    <input
      type="password"
      name="password"
      [(ngModel)]="registerForm.password"
      required
      minlength="6"
      #passwordctrl="ngModel"
    />
    @if(passwordctrl.invalid && passwordctrl.touched) {
    <div class="error">
      @if(passwordctrl.errors?.['required']) {
      <small>Password is required</small>
      } @if(passwordctrl.errors?.['minlength']) {
      <small>At least 6 characters.</small>
      }
    </div>
    }
  </div>

  <!--Confirm password-->
  <div>
    <label>Confirm password:</label>
    <input
      type="password"
      name="password"
      [(ngModel)]="registerForm.confirmpassword"
      required
      #confirmctrl="ngModel"
    />
    @if (confirmctrl.invalid && confirmctrl.touched) {
    <div class="error">
      @if(confirmctrl.errors?.['required']) {
      <small>confirm password is required</small>
      } @if (registerForm.password !== registerForm.confirmpassword) {
      <small>Passwords must match</small>
      }
    </div>
    }
  </div>

  <!--Gender-->
  <div>
    <label>Gender:</label>
    <select
      name="gender"
      [(ngModel)]="registerForm.gender"
      required
      #genderctrl="ngModel"
    >
      <option value="">--select--</option>
      <option value="male">Male</option>
      <option value="female">Female</option>
    </select>
    @if(genderctrl.invalid && genderctrl.touched) {
    <small>Please select a gender.</small>
    }
  </div>

  <button type="submit" [disabled]="regForm.invalid">register</button>
  <button type="button" (click)="regForm.reset()">Reset</button>
</form>
